<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Dashboard Pertanian</title>

<style>
body{
margin:0;
font-family:Segoe UI,system-ui;
background:#f4f6f9;
padding:20px;
}

h1{text-align:center;margin-bottom:30px}

.menu{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:20px;
margin-bottom:30px;
}

.card{
background:#fff;
border-radius:18px;
padding:22px;
box-shadow:0 10px 25px rgba(0,0,0,.1);
cursor:pointer;
transition:.25s;
text-align:center;
}

.card:hover{
transform:translateY(-6px);
}

.card.active{
border:3px solid #27ae60;
}

.icon{font-size:40px;margin-bottom:8px}
.title{font-weight:700;color:#27ae60}
.desc{font-size:14px;color:#666}

.section{display:none}

.section.active{display:block}

table{
width:100%;
border-collapse:collapse;
background:#fff;
border-radius:14px;
overflow:hidden;
box-shadow:0 10px 25px rgba(0,0,0,.1)
}

th,td{padding:10px;border-bottom:1px solid #eee}
th{background:#27ae60;color:white}

.loading{color:#777}
</style>
</head>
<body>

<h1>ðŸ“Š Dashboard Data Pertanian</h1>

<div class="menu">
<div class="card active" onclick="show('horti',this)">
<div class="icon">ðŸ¥¬</div>
<div class="title">Harga Hortikultura</div>
<div class="desc">Buah & sayuran</div>
</div>

<div class="card" onclick="show('beras',this)">
<div class="icon">ðŸŒ¾</div>
<div class="title">Harga & Stok Beras</div>
<div class="desc">Produksi</div>
</div>

<div class="card" onclick="show('ltt',this)">
<div class="icon">ðŸšœ</div>
<div class="title">LTT</div>
<div class="desc">Luas tanam</div>
</div>
</div>

<!-- ====== HORTI ====== -->
<div id="horti" class="section active">
<h2>Rekap Harga Hortikultura</h2>
<div id="hortiData" class="loading">Memuat data...</div>
</div>

<!-- ====== BERAS ====== -->
<div id="beras" class="section">
<p class="loading">Belum terhubung</p>
</div>

<!-- ====== LTT ====== -->
<div id="ltt" class="section">
<p class="loading">Belum terhubung</p>
</div>

<script>
const SCRIPT_URL_HORTI = "https://script.google.com/macros/s/AKfycbyMPEkLh00I_fQMbE4-36BSMSVCKe9FepjKBx2b1ap9CWADlU5m3UnNRIOHdF8rcY2D/exec";

function show(id,el){
document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
document.querySelectorAll(".card").forEach(c=>c.classList.remove("active"));

document.getElementById(id).classList.add("active");
el.classList.add("active");
}

async function loadHorti(){
const res = await fetch(SCRIPT_URL_HORTI);
const data = await res.json();

let html=`<table>
<tr>
<th>Tanggal</th><th>Kategori</th><th>Komoditi</th>
<th>Grosir</th><th>Eceran</th></tr>`;

data.reverse().slice(0,60).forEach(d=>{
html+=`
<tr>
<td>${d.tanggal}</td>
<td>${d.kategori}</td>
<td>${d.komoditi}</td>
<td>Rp ${d.grosir}</td>
<td>Rp ${d.eceran}</td>
</tr>`;
});

html+=`</table>`;
document.getElementById("hortiData").innerHTML=html;
}

loadHorti();
</script>

</body>
</html>
